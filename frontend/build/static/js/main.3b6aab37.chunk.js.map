{"version":3,"sources":["images/vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Cards.js","components/PopupWithForm.js","components/Register.js","components/Login.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/tempapi.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","user","to","pushTo","loggedIn","onClick","clicKSignOut","linkTitle","CurrentUserContext","React","createContext","Cards","currentUser","useContext","isLiked","card","likes","some","i","_id","isOwn","owner","link","name","onImgClick","type","onCardDelete","onCardLike","length","PopupWithForm","popupOpened","isOpen","onClose","valid","title","noValidate","onSubmit","children","Register","useState","email","setEmail","password","setPassword","e","preventDefault","onRegisterUser","id","placeholder","required","minLength","maxLength","onChange","target","value","Login","onLoginUser","Main","userEmail","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","today","Date","getFullYear","ImagePopup","api","config","this","_url","url","_headers","headers","fetch","method","then","res","_checkRequest","data","body","JSON","stringify","cardId","ok","json","Promise","reject","Error","status","authorization","tempapi","jwt","Authorization","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onAddPlaceCard","InfoTooltip","ProtectedRoute","Component","component","history","useHistory","push","App","setCurrentUser","setLoggedIn","setUserEmail","getUserProfile","getUser","catch","err","console","log","setCards","getInitialCards","cardsInit","token","localStorage","getItem","getJWT","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImgPopupOpen","setImgPopupOpen","selectedCard","setSelectedCard","isInfoToolTip","setInfoToolTip","infoTooltipValid","setInfoTooltipValid","closeAllPopups","Provider","exact","path","userData","authUser","setItem","newUser","addUser","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","removeItem","editUserProfile","addNewCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sOAAe,MAA0B,mCCiB1BA,MAbf,SAAgBC,GACd,OACE,yBAAQC,UAAU,SAAlB,UACE,qBAAKA,UAAU,OAAOC,IAAKC,EAAMC,IAAI,8EACrC,sBAAKH,UAAU,gBAAf,UACE,sBAAMA,UAAU,gBAAhB,SAAiCD,EAAMK,OACvC,eAAC,IAAD,CAAMC,GAAIN,EAAMO,OAAQN,UAAWD,EAAMQ,SAAW,iCAAmC,eACvFC,QAAST,EAAMU,aADf,cACgCV,EAAMW,oBCRjCC,EAAqBC,IAAMC,gBCAzB,SAASC,EAAMf,GAC5B,IAAMgB,EAAcH,IAAMI,WAAWL,GAOrC,IAAMM,IAAWlB,EAAMmB,KAAKC,OAASpB,EAAMmB,KAAKC,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQP,EAAYO,OAClFC,IAASxB,EAAMmB,KAAKM,OAASzB,EAAMmB,KAAKM,MAAMF,MAAQP,EAAYO,IAUxE,OACE,qBAAItB,UAAU,UAAd,UACE,qBACEA,UAAU,eACVC,IAAKF,EAAMmB,KAAKO,KAChBtB,IAAKJ,EAAMmB,KAAKf,IAAMJ,EAAMmB,KAAKf,IAAMJ,EAAMmB,KAAKQ,KAClDlB,QAtBN,WACET,EAAM4B,WAAW5B,EAAMmB,SAuBrB,oBAAIlB,UAAU,iBAAd,SAAgCD,EAAMmB,KAAKQ,OACzCH,EACA,wBAAQK,KAAK,SACbpB,QAfN,WACET,EAAM8B,aAAa9B,EAAMmB,OAerBlB,UAAU,wBAEV,6BAGF,wBACE4B,KAAK,SACLpB,QA3BN,WACET,EAAM+B,WAAW/B,EAAMmB,OA2BnBlB,UACGiB,EACG,mDACA,yBAGR,mBAAGjB,UAAU,iBAAb,SAAgCD,EAAMmB,KAAKC,MAASpB,EAAMmB,KAAKC,MAAMY,OAAS,OC9BrEC,MAhBf,SAAuBjC,GACrB,IAAMkC,EAAW,UAAMlC,EAAMmC,OAAS,eAAiB,IAEvD,OACE,sBAAKlC,UAAS,gBAAWD,EAAM2B,KAAjB,YAAyBO,GAAvC,UACE,wBAAQL,KAAK,SAAS5B,UAAS,4BAAuBD,EAAM2B,KAA7B,gBAAiDlB,QAAST,EAAMoC,UAC/F,sBAAKnC,UAAS,2BAAsBD,EAAM2B,KAA5B,sBAA8C3B,EAAMqC,OAAS,GAA7D,YAAmErC,EAAMqC,OAAN,UAAkBrC,EAAM2B,KAAxB,gBAAjF,UACJ,oBAAI1B,UAAS,uBAAoBD,EAAM2B,KAA1B,WAAb,SAAuD3B,EAAMsC,QACvD,sBAAMrC,UAAS,sBAAiBD,EAAM2B,KAAvB,UAAqCA,KAAM3B,EAAM2B,KAAMY,YAAU,EAACC,SAAUxC,EAAMwC,SAAjG,SACIxC,EAAMyC,kBC4DHC,MAnEf,SAAkB1C,GAAQ,IAAD,EACGa,IAAM8B,SAAS,IADlB,mBAChBC,EADgB,KACTC,EADS,OAEShC,IAAM8B,SAAS,IAFxB,mBAEhBG,EAFgB,KAENC,EAFM,KAoBvB,OACI,0BAAS9C,UAAU,WAAnB,UACE,eAAC,EAAD,CACE0B,KAAO,WACPW,MAAQ,qEACRH,OAAQnC,EAAMmC,OACdK,SAtBR,SAAsBQ,GACpBA,EAAEC,iBACFjD,EAAMkD,eAAe,CACnBN,QACAE,cAcE,UAKA,uBACEK,GAAG,wBACHtB,KAAK,OACLF,KAAK,QACLyB,YAAY,QACZC,UAAQ,EACRpD,UAAU,6BACVqD,UAAW,EACXC,UAAW,GACXC,SAxBR,SAA2BR,GACzBH,EAASG,EAAES,OAAOC,QAwBZA,MAAOd,GAAS,KAElB,sBAAMO,GAAG,6BAA6BlD,UAAU,uBAChD,uBACEkD,GAAG,2BACHtB,KAAK,WACLF,KAAK,WACLyB,YAAY,uCACZC,UAAQ,EACRpD,UAAU,6BACVqD,UAAW,EACXC,UAAW,IACXC,SAjCR,SAA8BR,GAC5BD,EAAYC,EAAES,OAAOC,QAiCfA,MAAOZ,GAAY,KAErB,sBACEK,GAAG,gCACHlD,UAAU,uBAEZ,wBAAQA,UAAU,mBAAmB4B,KAAK,SAA1C,6HAIA,cAAC,IAAD,CAAMvB,GAAK,WAAWL,UAAY,gBAAlC,qKC5DO,SAAS0D,EAAM3D,GAAQ,IAAD,EACTa,IAAM8B,SAAS,IADN,mBAC5BC,EAD4B,KACrBC,EADqB,OAEHhC,IAAM8B,SAAS,IAFZ,mBAE5BG,EAF4B,KAElBC,EAFkB,KAoBnC,OACI,0BAAS9C,UAAU,QAAnB,UACGD,EAAMQ,UAAY,cAAC,IAAD,CAAUF,GAAG,MAChC,eAAC,EAAD,CACEqB,KAAO,QACPW,MAAQ,2BACRH,OAAQnC,EAAMmC,OACdK,SAvBR,SAAsBQ,GACpBA,EAAEC,iBACFjD,EAAM4D,YAAY,CAChBhB,QACAE,cAeE,UAKA,uBACEK,GAAG,qBACHtB,KAAK,OACLF,KAAK,QACLyB,YAAY,QACZC,UAAQ,EACRpD,UAAU,0BACVqD,UAAW,EACXC,UAAW,GACXC,SAzBR,SAA2BR,GACzBH,EAASG,EAAES,OAAOC,QAyBZA,MAAOd,GAAS,KAElB,sBAAMO,GAAG,2BAA2BlD,UAAU,uBAC9C,uBACEkD,GAAG,wBACHtB,KAAK,WACLF,KAAK,WACLyB,YAAY,uCACZC,UAAQ,EACRpD,UAAU,0BACVqD,UAAW,EACXC,UAAW,IACXC,SAlCR,SAA8BR,GAC5BD,EAAYC,EAAES,OAAOC,QAkCfA,MAAOZ,GAAY,KAErB,sBACEK,GAAG,8BACHlD,UAAU,uBAEZ,wBAAQA,UAAU,gBAAgB4B,KAAK,SAAvC,kDC4BOgC,MAlFf,SAAc7D,GACZ,IAAMgB,EAAcH,IAAMI,WAAWL,GAErC,OACE,qCACkB,SAAfZ,EAAM6B,MACL,cAAC,EAAD,CACAxB,KAAML,EAAM8D,UACZnD,UAAU,iCACVJ,OAAO,WACPC,SAAUR,EAAMQ,SAChBE,aAAcV,EAAMU,eAGtB,uBAAMT,UAAU,UAAhB,UACsB,YAAfD,EAAM6B,MACL,cAAC,EAAD,CACEM,QAAM,EACNe,eAAgBlD,EAAMkD,eACtB1C,SAAUR,EAAMQ,WAGJ,YAAfR,EAAM6B,MACL,cAAC8B,EAAD,CACExB,QAAM,EACNyB,YAAa5D,EAAM4D,YACnBpD,SAAUR,EAAMQ,WAIR,SAAfR,EAAM6B,MACL,qCACE,0BAAS5B,UAAU,UAAnB,UACE,qBAAKA,UAAU,mBAAf,SACE,qBACEC,IAAKc,EAAcA,EAAY+C,OAAS,GACxC3D,IAAI,uCACJH,UAAU,kBACVQ,QAAST,EAAMgE,iBAGnB,sBAAK/D,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,iBAAd,SACGe,EAAcA,EAAYW,KAAO,KAEpC,wBACEE,KAAK,SACL5B,UAAU,uBACVQ,QAAST,EAAMiE,mBAGnB,mBAAGhE,UAAU,oBAAb,SACGe,EAAcA,EAAYkD,MAAQ,QAGvC,wBACErC,KAAK,SACL5B,UAAU,sBACVQ,QAAST,EAAMmE,gBAGnB,yBAASlE,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SACGD,EAAMoE,MAAMC,KAAI,SAAClD,GAAD,OACf,cAACJ,EAAD,CACEI,KAAMA,EAENS,WAAY5B,EAAM4B,WAClBG,WAAY/B,EAAM+B,WAClBD,aAAc9B,EAAM8B,cAHfX,EAAKI,sBC/Df+C,MATf,WACE,IAAMC,EAAQ,IAAIC,KAClB,OACE,wBAAQvE,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,kBAAoCsE,EAAME,cAA1C,sBCmBSC,MAvBf,SAAoB1E,GAClB,IAAMkC,EAAW,UAAMlC,EAAMmC,OAAS,iCAAmC,qBACzE,OACE,sBAAKlC,UAAWiC,EAAhB,UACE,sBAAKjC,UAAU,0CAAf,UACE,qBACEA,UAAU,mBACVG,IAAKJ,EAAMmB,KAAOnB,EAAMmB,KAAKf,IAAM,sEACnCF,IAAKF,EAAMmB,KAAOnB,EAAMmB,KAAKO,KAAO,MAEtC,oBAAIzB,UAAU,kCAAd,SACGD,EAAMmB,KAAOnB,EAAMmB,KAAKQ,KAAO,QAGpC,wBACEE,KAAK,SACL5B,UAAU,4CACVQ,QAAST,EAAMoC,c,gBCqFRuC,EADH,I,WAtGV,WAAYC,GAAS,oBACnBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,8DAGN,IAAD,OAChB,OAAOC,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjCK,OAAQ,MACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,uCAGpB,IAAD,OACf,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCK,OAAQ,MACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,sCAGtBE,GAAO,IAAD,OACpB,OAAOL,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCK,OAAQ,QACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEpBH,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,iCAG3BE,GAAO,IAAD,OACf,OAAOL,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjCK,OAAQ,OACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEpBH,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,iCAG3BM,GAAS,IAAD,OACjB,OAAOT,MAAM,GAAD,OAAIL,KAAKC,KAAT,kBAAuBa,GAAU,CAC3CR,OAAQ,SACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,8BAG9BM,GAAS,IAAD,OACd,OAAOT,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAU,CACjDR,OAAQ,MACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,2CAGjBM,EAAQzE,GAAU,IAAD,OACpC,OAAIA,EACKgE,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAU,CACjDR,OAAQ,SACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,MAG/BH,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAU,CACjDR,OAAQ,MACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,iCAG3BM,GAAS,IAAD,OACjB,OAAOT,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAU,CACjDR,OAAQ,SACRF,QAASJ,KAAKG,WAEbI,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,qCAGvBE,GAAO,IAAD,OACnB,OAAOL,MAAM,GAAD,OAAIL,KAAKC,KAAT,oBAAiC,CAC3CK,OAAQ,QACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KAEpBH,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,oCAIxBA,GACZ,OAAIA,EAAIO,GACCP,EAAIQ,OAENC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBX,EAAIY,c,KASvC,CALM,CAChBlB,IAAK,8CACLE,QAAS,CAAEiB,cAAe,uCAAwC,eAAgB,sBCrDrEC,EADC,I,WA7Cd,WAAYvB,GAAS,oBACnBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,oDAGjBM,GAAO,IAAD,OACZ,OAAOL,MAAM,GAAD,OAAIL,KAAKC,KAAT,WAAwB,CAClCK,OAAQ,OACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KACpBH,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,+BAG7BE,GAAO,IAAD,OACb,OAAOL,MAAM,GAAD,OAAIL,KAAKC,KAAT,WAAwB,CAClCK,OAAQ,OACRF,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAUH,KACpBH,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,6BAG/Be,GAAM,IAAD,OACV,OAAOlB,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCK,OAAQ,MACRF,QAAS,CACP,eAAgB,mBAChBoB,cAAc,UAAD,OAAYD,MAE1BhB,MAAK,SAACC,GAAD,OAAS,EAAKC,cAAcD,Q,oCAIxBA,GACZ,OAAIA,EAAIO,GACCP,EAAIQ,OAENC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBX,EAAIY,c,KASnC,CALE,CAChBlB,IAAK,gCACLE,QAAS,CAAE,eAAgB,sBCvCd,SAASqB,EAAiBtG,GAAQ,IAAD,EACtBa,IAAM8B,SAAS,IADO,mBACvChB,EADuC,KACjC4E,EADiC,OAER1F,IAAM8B,SAAS,IAFP,mBAEvC6D,EAFuC,KAE1BC,EAF0B,KAGxCzF,EAAcH,IAAMI,WAAWL,GAuBrC,OArBAC,IAAM6F,WAAU,WACdH,EAASvF,EAAeA,EAAYW,KAAO,IAC3C8E,EAAgBzF,EAAeA,EAAYkD,MAAQ,MAClD,CAAClD,IAmBF,eAAC,EAAD,CACIsB,MAAM,4HACNX,KAAK,gBACLQ,OAAQnC,EAAMmC,OACdC,QAASpC,EAAMoC,QACfI,SAdN,SAAsBQ,GACpBA,EAAEC,iBACFjD,EAAM2G,aAAa,CACjBhF,OACAuC,MAAOsC,KAKT,UAOI,uBACErD,GAAG,uBACHtB,KAAK,OACLF,KAAK,QACLyB,YAAY,qBACZC,UAAQ,EACRpD,UAAU,mCACVqD,UAAW,EACXC,UAAW,GACXC,SAjCR,SAA4BR,GAC1BuD,EAAQvD,EAAES,OAAOC,QAiCXA,MAAO/B,GAAQ,KAEjB,sBAAMwB,GAAG,6BAA6BlD,UAAU,uBAChD,uBACEkD,GAAG,0BACHtB,KAAK,OACLF,KAAK,WACLyB,YAAY,yDACZC,UAAQ,EACRpD,UAAU,sCACVqD,UAAW,EACXC,UAAW,IACXC,SA1CR,SAAiCR,GAC/ByD,EAAezD,EAAES,OAAOC,QA0ClBA,MAAO8C,GAAe,KAExB,sBACErD,GAAG,gCACHlD,UAAU,uBAEZ,wBAAQA,UAAU,sCAAsC4B,KAAK,SAA7D,uEChEO,SAAS+E,EAAgB5G,GACtC,IAAM+D,EAASlD,IAAMgG,SAQrB,OACE,eAAC,EAAD,CACEvE,MAAM,wFACNX,KAAK,eACLQ,OAAQnC,EAAMmC,OACdC,QAASpC,EAAMoC,QACfI,SAbJ,SAAsBQ,GACpBA,EAAEC,iBACFjD,EAAM8G,eAAe,CACnB/C,OAAQA,EAAOgD,QAAQrD,SAKzB,UAOE,uBACEsD,IAAKjD,EACLZ,GAAG,oBACHtB,KAAK,MACLuB,YAAY,qGACZzB,KAAK,WACL0B,UAAQ,EACRpD,UAAU,kCAEZ,sBAAMkD,GAAG,0BAA0BlD,UAAU,uBAC7C,wBAAQA,UAAU,qCAAqC4B,KAAK,SAA5D,uEC3BS,SAASoF,EAAcjH,GAAQ,IAAD,EACnBa,IAAM8B,WADa,mBACpChB,EADoC,KAC9B4E,EAD8B,OAEnB1F,IAAM8B,WAFa,mBAEpCjB,EAFoC,KAE9BwF,EAF8B,KAoB3C,OACE,eAAC,EAAD,CACE5E,MAAM,gEACNX,KAAK,aACLQ,OAAQnC,EAAMmC,OACdC,QAASpC,EAAMoC,QACfI,SAtBJ,SAAsBQ,GACpBA,EAAEC,iBACFjD,EAAMmH,eAAe,CACnBxF,OACAD,UAaF,UAOE,uBACEyB,GAAG,oBACHtB,KAAK,OACLuB,YAAY,mDACZzB,KAAK,QACL0B,UAAQ,EACRpD,UAAU,gCACVqD,UAAW,EACXC,UAAW,GACXC,SAzBN,SAA2BR,GACzBuD,EAAQvD,EAAES,OAAOC,QAyBbA,MAAO/B,GAAQ,KAEjB,sBAAMwB,GAAG,0BAA0BlD,UAAU,uBAC7C,uBACEkD,GAAG,kBACHtB,KAAK,MACLuB,YAAY,qGACZzB,KAAK,WACL0B,UAAQ,EACRpD,UAAU,8BACVuD,SAhCN,SAA0BR,GACxBkE,EAAQlE,EAAES,OAAOC,QAgCbA,MAAOhC,GAAQ,KAEjB,sBAAMyB,GAAG,wBAAwBlD,UAAU,uBAC3C,wBAAQA,UAAU,mCAAmC4B,KAAK,SAA1D,uECpDS,SAASuF,EAAYpH,GAClC,IAAMsC,EAAwB,WAAhBtC,EAAMqC,MAChB,wKACA,sMAKJ,OACE,cAAC,EAAD,CACEC,MAAOA,EACPX,KAAK,oBACLQ,OAAQnC,EAAMmC,OACdC,QAASpC,EAAMoC,QACfI,SAVJ,SAAsBQ,GACpBA,EAAEC,kBAUAZ,MAASrC,EAAMqC,Q,YCJNgF,EAXQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBvH,EAAY,6BACvDwH,EAAUC,cAChB,OACE,cAAC,IAAD,UAEI,kBAAOzH,EAAMQ,SAAW,cAAC8G,EAAD,eAAetH,IAAYwH,EAAQE,KAAK,gBC8QzDC,MAtQf,WAAgB,IAAD,EACyB9G,IAAM8B,WAD/B,mBACN3B,EADM,KACO4G,EADP,OAEmB/G,IAAM8B,UAAS,GAFlC,mBAENnC,EAFM,KAEIqH,EAFJ,KAGPL,EAAUC,cAHH,EAIqB5G,IAAM8B,SAAS,IAJpC,mBAINmB,EAJM,KAIKgE,EAJL,KAMbjH,IAAM6F,WAAU,WACd/B,EACGoD,iBACA3C,MAAK,SAAC4C,GACLJ,EAAeI,MAEhBC,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,QAE/C,IAfU,MAiBarH,IAAM8B,SAAS,IAjB5B,mBAiBNyB,EAjBM,KAiBCiE,EAjBD,KAmBbxH,IAAM6F,WAAU,WACd/B,EACG2D,kBACAlD,MAAK,SAACmD,GACLF,EAASE,MAEVN,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,QAE/C,IAEHrH,IAAM6F,WAAU,WACd,IAAM8B,EAAQC,aAAaC,QAAQ,SAEnCF,GACKrC,EACAwC,OAAOH,GACPpD,MAAK,SAACG,GACLuC,EAAavC,EAAKA,KAAK3C,OACvBiF,GAAY,MAEbI,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,QAEjD,IA3CU,MA6C+CrH,IAAM8B,UAChE,GA9CW,mBA6CNiG,EA7CM,KA6CkBC,EA7ClB,OAgDyChI,IAAM8B,UAAS,GAhDxD,mBAgDNmG,EAhDM,KAgDeC,EAhDf,OAiD6ClI,IAAM8B,UAC9D,GAlDW,mBAiDNqG,EAjDM,KAiDiBC,EAjDjB,OAoD6BpI,IAAM8B,UAAS,GApD5C,mBAoDNuG,EApDM,KAoDUC,EApDV,OAqD2BtI,IAAM8B,WArDjC,mBAqDNyG,GArDM,KAqDQC,GArDR,QAsD2BxI,IAAM8B,UAAS,GAtD1C,qBAsDN2G,GAtDM,MAsDSC,GAtDT,SAuDmC1I,IAAM8B,SAAS,UAvDlD,qBAuDN6G,GAvDM,MAuDYC,GAvDZ,MAyEb,SAASC,KACPT,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAgB,GAChBI,IAAe,GA4GjB,OACE,qBAAKtJ,UAAU,OAAf,SACE,eAACW,EAAmB+I,SAApB,CAA6BjG,MAAO1C,EAApC,UACI,eAAC,IAAD,WACA,eAAC,IAAD,CAAO4I,OAAK,EAACC,KAAK,WAAlB,UACI,cAAC,EAAD,CAAQlJ,UAAU,qEAAcJ,OAAO,aACvC,cAAC,EAAD,CACEsB,KAAK,UACL+B,YA7Bd,SAAyBkG,GACvB3D,EACG4D,SAASD,GACT1E,MAAK,SAACG,GACLkD,aAAauB,QAAQ,QAASzE,EAAKiD,OACnCX,GAAY,GACZC,EAAagC,EAASlH,OACtB4E,EAAQE,KAAK,QAEdO,OAAM,SAACC,GACNqB,IAAe,GACfE,GAAoB,YACpBtB,QAAQC,IAAI,6IAAgCF,OAkBpC1H,SAAUA,OAGd,eAAC,IAAD,CAAOoJ,OAAK,EAACC,KAAK,WAAlB,UACE,cAAC,EAAD,CAAQlJ,UAAU,iCAAQJ,OAAO,aACjC,cAAC,EAAD,CACEsB,KAAK,UACLqB,eApDd,SAA4B+G,GAC1B9D,EACG+D,QAAQD,GACR7E,MAAK,WACJmE,IAAe,GACfE,GAAoB,UACpBjC,EAAQE,KAAK,eAEdO,OAAM,SAACC,GACNqB,IAAe,GACfE,GAAoB,YACpBtB,QAAQC,IAAI,6IAAgCF,OA0CpC1H,SAAUA,OAGd,cAAC,EAAD,CACEqJ,KAAK,IACLrJ,SAAUA,EACV+G,UAAW1D,EACXI,cArJZ,WACE4E,GAA0B,IAqJhB1E,WAlJZ,WACE4E,GAAuB,IAkJb/E,aA3JZ,WACEiF,GAAyB,IA2JfrH,WApIZ,SAAyBT,GACvBkI,GAAgBlI,GAZhBgI,GAAgB,IAgJN/E,MAAOA,GAAS,CAAC,IACjBrC,WApHZ,SAAwBZ,GACtB,IAAMD,EAAUC,EAAKC,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQP,EAAYO,OAC7DoD,EACGwF,qBAAqBhJ,EAAKI,IAAKL,GAC/BkE,MAAK,SAACgF,GACL,IAAMC,EAAWjG,EAAMC,KAAI,SAACiG,GAAD,OAAQA,EAAE/I,MAAQJ,EAAKI,IAAM6I,EAAUE,KAClEjC,EAASgC,MAEVpC,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,OA4GtCpG,aAxGZ,SAA0BX,GACxBwD,EACG4F,WAAWpJ,EAAKI,KAChB6D,MAAK,WACJ,IAAMiF,EAAWjG,EAAMoG,QAAO,SAACF,GAAD,OAAOA,EAAE/I,MAAQJ,EAAKI,OACpD8G,EAASgC,MAEVpC,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,OAiGtCrG,KAAK,OACLiC,UAAWA,EACXpD,aAtCZ,WACE+H,aAAagC,WAAW,SACxB5C,GAAY,SAuCR,cAAC,EAAD,IACA,cAACvB,EAAD,CACEnE,OAAQyG,EACRxG,QAASsH,GACT/C,aA5IR,SAA0BpB,GACxBZ,EACG+F,gBAAgBnF,GAChBH,MAAK,SAAC/E,GACLuH,EAAerC,GACfmE,KACA9B,EAAevH,MAEhB4H,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SAqI5C,cAACjB,EAAD,CACE9E,OAAQ2G,EACR1G,QAASsH,GACTvC,eA/FR,SAA8BiD,GAC5BzF,EACGgG,WAAWP,GACXhF,MAAK,SAACG,GACL8C,EAAS,CAAC9C,GAAF,mBAAWnB,QAEpBgB,MAAK,WACJsE,QAEDzB,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SAuF5C,cAACtB,EAAD,CACEzE,OAAQ6G,EACR5G,QAASsH,GACT5C,eAhHR,SAA4BvB,GAC1BZ,EACGiG,eAAerF,GACfH,MAAK,WACJwC,EAAe,2BAAK5G,GAAN,IAAmB+C,OAAQwB,EAAKxB,UAC9C2F,QAEDzB,OAAM,SAACC,GACNC,QAAQC,IAAI,6IAAgCF,SA0G5C,cAAC,EAAD,CACE5F,MAAM,2DACNX,KAAK,eACLS,QAASsH,GAHX,SAKE,wBAAQzJ,UAAU,qCAAqC4B,KAAK,SAA5D,4BAIF,cAACuF,EAAD,CACEjF,OAAQmH,GACRjH,MAAOmH,GACPpH,QAASsH,KAEX,cAAC,EAAD,CACEvI,KAAMiI,GACNjH,OAAQ+G,EACR9G,QAASsH,WCjQJmB,EAdS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqB3F,MAAK,YAEnB,IADL4F,EACI,EADJA,OAAQC,EACJ,EADIA,OAAQC,EACZ,EADYA,OAAQC,EACpB,EADoBA,OAAQC,EAC5B,EAD4BA,QAEhCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACA,cAAC,EAAD,QAGFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.3b6aab37.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vector.c2821b38.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../images/vector.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Логотип сайта\" />\n      <div className=\"header__login\">\n        <span className=\"header__email\">{props.user}</span>\n        <Link to={props.pushTo} className={props.loggedIn ? 'header__link header__link_grey' : 'header__link' }\n        onClick={props.clicKSignOut} > {props.linkTitle}</Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Cards(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleClick() {\n    props.onImgClick(props.card);\n  }\n\n  // eslint-disable-next-line max-len\n  const isLiked = (props.card.likes) ? props.card.likes.some((i) => i._id === currentUser._id) : false;\n  const isOwn = (props.card.owner) ? props.card.owner._id === currentUser._id : false;\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img\n        className=\"element__img\"\n        src={props.card.link}\n        alt={props.card.alt ? props.card.alt : props.card.name}\n        onClick={handleClick}\n      />\n      <h3 className=\"element__title\">{props.card.name}</h3>\n      {(isOwn) ? (\n        <button type=\"button\"\n        onClick = {handleDeleteClick}\n        className=\"element__recyclebin\"></button>\n      ) : (\n        <></>\n      )}\n\n      <button\n        type=\"button\"\n        onClick={handleLikeClick}\n        className={\n          (isLiked)\n            ? 'element__like-button element__like-button_active'\n            : 'element__like-button'\n        }\n      ></button>\n      <p className=\"element__likes\">{(props.card.likes) ? props.card.likes.length : 0}</p>\n    </li>\n  );\n}\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const popupOpened = `${props.isOpen ? 'popup_opened' : ''}`;\n\n  return (\n    <div className={`popup ${props.name} ${popupOpened}`}>\n      <button type=\"button\" className={`popup__close-icon ${props.name}__close-icon`} onClick={props.onClose}/>\n      <div className={`popup__container ${props.name}__container${props.valid || ''} ${props.valid && `${props.name}__container`}`}>\n  <h3 className = {`popup__title ${props.name}__title`}>{props.title}</h3>\n        <form className={`popup__form ${props.name}__form`} name={props.name} noValidate onSubmit={props.onSubmit}>\n           {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegisterUser({\r\n      email,\r\n      password,\r\n    });\r\n  }\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n      <section className=\"register\">\r\n        <PopupWithForm\r\n          name = 'register'\r\n          title = 'Регистрация'\r\n          isOpen={props.isOpen}\r\n          onSubmit={handleSubmit}>\r\n        <input\r\n          id=\"popup_register__email\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          className=\"popup__edit register__edit\"\r\n          minLength={2}\r\n          maxLength={40}\r\n          onChange={handleChangeEmail}\r\n          value={email || ''}\r\n        />\r\n        <span id=\"popup_profile__title-error\" className=\"popup__input-error\" />\r\n        <input\r\n          id=\"popup_register__password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          className=\"popup__edit register__edit\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          onChange={handleChangePassword}\r\n          value={password || ''}\r\n        />\r\n        <span\r\n          id=\"popup_profile__subtitle-error\"\r\n          className=\"popup__input-error\"\r\n        />\r\n        <button className=\"register__button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        </PopupWithForm>\r\n        <Link to = '/sign-in' className = 'register__tip' >\r\n        Уже зарегистрированы? Войти\r\n        </Link>\r\n      </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLoginUser({\r\n      email,\r\n      password,\r\n    });\r\n  }\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n      <section className=\"login\">\r\n        {props.loggedIn && <Redirect to=\"/\" />}\r\n        <PopupWithForm\r\n          name = 'login'\r\n          title = 'Вход'\r\n          isOpen={props.isOpen}\r\n          onSubmit={handleSubmit}>\r\n        <input\r\n          id=\"popup_login__email\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          className=\"popup__edit login__edit\"\r\n          minLength={2}\r\n          maxLength={40}\r\n          onChange={handleChangeEmail}\r\n          value={email || ''}\r\n        />\r\n        <span id=\"popup_login__title-error\" className=\"popup__input-error\" />\r\n        <input\r\n          id=\"popup_login__password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          className=\"popup__edit login__edit\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          onChange={handleChangePassword}\r\n          value={password || ''}\r\n        />\r\n        <span\r\n          id=\"popup_login__subtitle-error\"\r\n          className=\"popup__input-error\"\r\n        />\r\n        <button className=\"login__button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n        </PopupWithForm>\r\n      </section>\r\n  );\r\n}\r\n","import React from 'react';\nimport Cards from './Cards';\nimport Register from './Register';\nimport Login from './Login';\nimport Header from './Header';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      {props.type === 'main' && (\n        <Header\n        user={props.userEmail}\n        linkTitle=\"Выйти\"\n        pushTo=\"/sign-in\"\n        loggedIn={props.loggedIn}\n        clicKSignOut={props.clicKSignOut}\n        />\n      )}\n      <main className=\"content\">\n            {props.type === 'sign-up' && (\n              <Register\n                isOpen\n                onRegisterUser={props.onRegisterUser}\n                loggedIn={props.loggedIn}\n              />\n            )}\n            {props.type === 'sign-in' && (\n              <Login\n                isOpen\n                onLoginUser={props.onLoginUser}\n                loggedIn={props.loggedIn}\n              />\n            )}\n\n        {props.type === 'main' && (\n          <>\n            <section className=\"profile\">\n              <div className=\"profile__overlay\">\n                <img\n                  src={currentUser ? currentUser.avatar : ''}\n                  alt=\"аватар\"\n                  className=\"profile__avatar\"\n                  onClick={props.onEditAvatar}\n                />\n              </div>\n              <div className=\"profile__info\">\n                <div className=\"profile__title-edit\">\n                  <h2 className=\"profile__title\">\n                    {currentUser ? currentUser.name : ''}\n                  </h2>\n                  <button\n                    type=\"button\"\n                    className=\"profile__edit-button\"\n                    onClick={props.onEditProfile}\n                  />\n                </div>\n                <p className=\"profile__subtitle\">\n                  {currentUser ? currentUser.about : ''}\n                </p>\n              </div>\n              <button\n                type=\"button\"\n                className=\"profile__add-button\"\n                onClick={props.onAddPlace}\n              />\n            </section>\n            <section className=\"elements\">\n              <ul className=\"elements__list\">\n                {props.cards.map((card) => (\n                  <Cards\n                    card={card}\n                    key={card._id}\n                    onImgClick={props.onImgClick}\n                    onCardLike={props.onCardLike}\n                    onCardDelete={props.onCardDelete}\n                  />\n                ))}\n              </ul>\n            </section>\n          </>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  const today = new Date();\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© {today.getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const popupOpened = `${props.isOpen ? 'popup popup_photo popup_opened' : 'popup popup_photo'}`;\n  return (\n    <div className={popupOpened}>\n      <div className=\"popup__container popup_photo__container\">\n        <img\n          className=\"popup_photo__pic\"\n          alt={props.card ? props.card.alt : 'нет описания'}\n          src={props.card ? props.card.link : '#'}\n        />\n        <h3 className=\"popup__title popup_photo__title\">\n          {props.card ? props.card.name : ''}\n        </h3>\n      </div>\n      <button\n        type=\"button\"\n        className=\"popup__close-icon popup_photo__close-icon\"\n        onClick={props.onClose}\n      ></button>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  getUserProfile() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  editUserProfile(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n        .then((res) => this._checkRequest(res));\n    }\n\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  editUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    })\n      .then((res) => this._checkRequest(res));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _checkRequest(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n}\n\nconst configApi = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: { authorization: '070b2a82-6a1e-49d9-8bec-07436830ab2d', 'Content-Type': 'application/json' },\n};\n\nconst api = new Api(configApi);\nexport default api;\n","class TempApi {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  addUser(data) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._checkRequest(res));\r\n  }\r\n\r\n  authUser(data) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._checkRequest(res));\r\n  }\r\n\r\n  getJWT(jwt) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    }).then((res) => this._checkRequest(res));\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _checkRequest(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n}\r\n\r\nconst configApi = {\r\n  url: 'https://auth.nomoreparties.co',\r\n  headers: { 'Content-Type': 'application/json' },\r\n};\r\n\r\nconst tempapi = new TempApi(configApi);\r\nexport default tempapi;\r\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName((currentUser) ? currentUser.name : '');\n    setDescription((currentUser) ? currentUser.about : '');\n  }, [currentUser]);\n\n  function handleChangeAuthor(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n        title=\"Редактировать профиль\"\n        name=\"popup_profile\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit ={handleSubmit}\n      >\n        <input\n          id=\"popup_profile__title\"\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Имя\"\n          required\n          className=\"popup__edit popup_profile__title\"\n          minLength={2}\n          maxLength={40}\n          onChange={handleChangeAuthor}\n          value={name || ''}\n        />\n        <span id=\"popup_profile__title-error\" className=\"popup__input-error\" />\n        <input\n          id=\"popup_profile__subtitle\"\n          type=\"text\"\n          name=\"subtitle\"\n          placeholder=\"Профессия\"\n          required\n          className=\"popup__edit popup_profile__subtitle\"\n          minLength={2}\n          maxLength={200}\n          onChange={handleChangeDescription}\n          value={description || ''}\n        />\n        <span\n          id=\"popup_profile__subtitle-error\"\n          className=\"popup__input-error\"\n        />\n        <button className=\"popup__button popup_profile__button\" type=\"submit\">\n          Сохранить\n        </button>\n      </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avatar = React.useRef();\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatar.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"popup_avatar\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit ={handleSubmit}\n    >\n      <input\n        ref={avatar}\n        id=\"popup_avatar__src\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"subtitle\"\n        required\n        className=\"popup__edit popup_avatar__src\"\n      />\n      <span id=\"popup_avatar__src-error\" className=\"popup__input-error\" />\n      <button className=\"popup__button popup_avatar__button\" type=\"submit\">\n        Сохранить\n      </button>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [name, setName] = React.useState();\n  const [link, setLink] = React.useState();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlaceCard({\n      name,\n      link,\n    });\n  }\n\n  function handleChangeTitle(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"popup_card\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"popup_card__title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"title\"\n        required\n        className=\"popup__edit popup_card__title\"\n        minLength={1}\n        maxLength={30}\n        onChange={handleChangeTitle}\n        value={name || ''}\n      />\n      <span id=\"popup_card__title-error\" className=\"popup__input-error\" />\n      <input\n        id=\"popup_card__src\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"subtitle\"\n        required\n        className=\"popup__edit popup_card__src\"\n        onChange={handleChangeLink}\n        value={link || ''}\n      />\n      <span id=\"popup_card__src-error\" className=\"popup__input-error\" />\n      <button className=\"popup__button popup_card__button\" type=\"submit\">\n        Сохранить\n      </button>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function InfoTooltip(props) {\r\n  const title = props.valid === '_valid'\r\n    ? 'Вы успешно зарегистрировались!'\r\n    : 'Что-то пошло не так! Попробуйте ещё раз.';\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={title}\r\n      name=\"popup_infotooltip\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit ={handleSubmit}\r\n      valid = {props.valid}\r\n    >\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, useHistory } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <Route>\r\n      {\r\n        () => (props.loggedIn ? <Component {...props} /> : history.push('/sign-in'))\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport tempapi from '../utils/tempapi';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState();\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const history = useHistory();\n  const [userEmail, setUserEmail] = React.useState('');\n\n  React.useEffect(() => {\n    api\n      .getUserProfile()\n      .then((getUser) => {\n        setCurrentUser(getUser);\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }, []);\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cardsInit) => {\n        setCards(cardsInit);\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    // eslint-disable-next-line no-unused-expressions\n    token\n      && tempapi\n        .getJWT(token)\n        .then((data) => {\n          setUserEmail(data.data.email);\n          setLoggedIn(true);\n        })\n        .catch((err) => {\n          console.log('Ошибка. Запрос не выполнен: ', err);\n        });\n  }, []);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false,\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false,\n  );\n  const [isImgPopupOpen, setImgPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [isInfoToolTip, setInfoToolTip] = React.useState(false);\n  const [infoTooltipValid, setInfoTooltipValid] = React.useState('_valid');\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleImgClick() {\n    setImgPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setImgPopupOpen(false);\n    setInfoToolTip(false);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    handleImgClick();\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .editUserProfile(data)\n      .then((user) => {\n        setCurrentUser(data);\n        closeAllPopups();\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .editUserAvatar(data)\n      .then(() => {\n        setCurrentUser({ ...currentUser, avatar: data.avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api\n      .addNewCard(newCard)\n      .then((data) => {\n        setCards([data, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleRegisterUser(newUser) {\n    tempapi\n      .addUser(newUser)\n      .then(() => {\n        setInfoToolTip(true);\n        setInfoTooltipValid('_valid');\n        history.push('/sign-in');\n      })\n      .catch((err) => {\n        setInfoToolTip(true);\n        setInfoTooltipValid('_invalid');\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function handleLoginUser(userData) {\n    tempapi\n      .authUser(userData)\n      .then((data) => {\n        localStorage.setItem('token', data.token);\n        setLoggedIn(true);\n        setUserEmail(userData.email);\n        history.push('/');\n      })\n      .catch((err) => {\n        setInfoToolTip(true);\n        setInfoTooltipValid('_invalid');\n        console.log('Ошибка. Запрос не выполнен: ', err);\n      });\n  }\n\n  function signOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n          <Switch>\n          <Route exact path=\"/sign-in\">\n              <Header linkTitle=\"Регистрация\" pushTo=\"/sign-up\" />\n              <Main\n                type=\"sign-in\"\n                onLoginUser={handleLoginUser}\n                loggedIn={loggedIn}\n              />\n            </Route>\n            <Route exact path=\"/sign-up\">\n              <Header linkTitle=\"Войти\" pushTo=\"/sign-in\" />\n              <Main\n                type=\"sign-up\"\n                onRegisterUser={handleRegisterUser}\n                loggedIn={loggedIn}\n              />\n            </Route>\n            <ProtectedRoute\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onImgClick={handleCardClick}\n              cards={cards || [{}]}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              type=\"main\"\n              userEmail={userEmail}\n              clicKSignOut={signOut}\n            />\n          </Switch>\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlaceCard={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <PopupWithForm\n          title=\"Вы уверены?\"\n          name=\"popup_delete\"\n          onClose={closeAllPopups}\n        >\n          <button className=\"popup__button popup_delete__button\" type=\"submit\">\n            Да\n          </button>\n        </PopupWithForm>\n        <InfoTooltip\n          isOpen={isInfoToolTip}\n          valid={infoTooltipValid}\n          onClose={closeAllPopups}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImgPopupOpen}\n          onClose={closeAllPopups}\n        ></ImagePopup>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}